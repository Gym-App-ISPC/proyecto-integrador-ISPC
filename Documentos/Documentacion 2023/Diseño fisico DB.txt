CREATE DATABASE GYM

CREATE TABLE [Admin] 
(
 [id]         bigint NOT NULL ,
 [nombre]     varchar(50) NOT NULL ,
 [email]     varchar(100) NOT NULL ,
 [contraseña] varchar(50) NOT NULL ,

PRIMARY KEY (id),
 CONSTRAINT [FK_4] FOREIGN KEY ([id_plan])  REFERENCES [Plan]([id])
);
GO



CREATE TABLE [Plan]
(
 [id]                  bigint NOT NULL ,
 [nombre]              varchar(50) NOT NULL ,
 [descripcion]         varchar(150) NOT NULL ,
 [cantidad_clases]     bigint (20) NOT NULL ,
 [precio]              smallint(5) NOT NULL ,


 PRIMARY KEY (id),
 CONSTRAINT [FK_2] FOREIGN KEY ([id_cliente])  REFERENCES [Cliente]([id])
);
GO



CREATE TABLE [Cliente]
(
 [id]               bigint (20) NOT NULL ,
 [nombre]           varchar(50) NOT NULL ,
 [apellido]         varchar(50) NOT NULL ,
 [dni]              varchar(50) NOT NULL ,
 [email]           varchar(100) NOT NULL ,
 [contraseña]       varchar(50) NOT NULL ,
 [fecha_nacimiento] date NOT NULL ,
 [plan_id]          bigint (20) NOT NULL ,
 [clases_restantes]    bigint(20) NOT NULL ,

 PRIMARY KEY (id),
 CONSTRAINT [FK_3] FOREIGN KEY ([id_plan])  REFERENCES [Plan]([id])
);
GO


CREATE TABLE [Clase]
(
 [id]              bigint (20) NOT NULL ,
 [nombre]          varchar(50) NOT NULL ,
 [descripcion]     varchar(300) NOT NULL ,
 [fecha]           date NOT NULL ,
 [hora]            datetime (6) NOT NULL ,
 [limite_cupos]     bigint (20) NOT NULL ,
 [cantidad_inscriptos]    bigint (20) NOT NULL ,
 [estado_clase]            varchar (30) NOT NULL ,


 PRIMARY KEY (id),
 CONSTRAINT [FK_1] FOREIGN KEY ([id_reserva])  REFERENCES [Reserva]([id])
);
GO

CREATE TABLE [Reserva]
(
 [id]         bigint (20) NOT NULL ,
 [clase_id] bigint (20) NOT NULL ,
 [cliente_id] bigint (20) NOT NULL ,

 PRIMARY KEY (id),
 CONSTRAINT [FK_1] FOREIGN KEY ([id_cliente])  REFERENCES [Cliente]([id])
);
GO


